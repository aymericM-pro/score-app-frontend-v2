<div class="relative inline-block">
    <!-- Trigger -->
    <button
        type="button"
        (click)="toggle()"
        [disabled]="disabled()"
        [ngClass]="
            variant() === 'ghost'
                ? 'flex items-center gap-1 text-sm text-neutral-300 hover:text-white transition-colors'
                : 'flex items-center gap-2 px-3 py-2 rounded-md bg-[#00d9ff] text-black text-sm font-medium hover:bg-[#00c4e6] transition'
        "
    >
        <span>{{ selected()?.label ?? placeholder() }}</span>

        <svg
            class="w-3 h-3 transition-transform duration-200"
            [class.rotate-180]="isOpen()"
            viewBox="0 0 24 24"
            fill="currentColor"
        >
            <path d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z" />
        </svg>
    </button>

    <!-- Menu -->
    @if (isOpen()) {
        <div
            class="dropdown-menu-scroll overflow-y-auto max-h-[320px]"
            [ngClass]="
                variant() === 'ghost'
                    ? 'absolute right-0 mt-2 w-24 rounded-md bg-neutral-800 border border-neutral-700 shadow-lg py-1'
                    : 'absolute mt-2 w-44 rounded-md bg-neutral-900 border border-neutral-700 shadow-xl py-2'
            "
        >
            @for (item of items(); track item.value) {
                <button
                    type="button"
                    (click)="select(item)"
                    class="block w-full text-left px-2 py-1 text-sm transition-colors"
                >
                    <div
                        class="px-3 py-2 rounded-md transition-colors"
                        [ngClass]="
                            variant() === 'primary'
                                ? selected()?.value === item.value
                                    ? 'bg-[#00d9ff] text-black'
                                    : 'text-[#b0b0b0] hover:bg-[#00c4e6] hover:text-black'
                                : 'text-neutral-300 hover:bg-neutral-700'
                        "
                    >
                        {{ item.label }}
                    </div>
                </button>
            }
        </div>
    }
</div>
